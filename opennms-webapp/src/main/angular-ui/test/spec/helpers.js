var getThenObject = function (response) {
  return { then: function (cb) {
    cb(response)
  } };
};

var getEmptyThenStub = function () {
  return getThenObject({});
};

var sampleAlarmsResults = {"alarms": {"alarm": [
  {"description": "<p>SNMP data collection on interface 172.20.1.10\n      failed.</p>", "parms": "reason=Timeout retrieving SnmpCollectors for 172.20.1.10 for /172.20.1.10: SnmpCollectors for 172.20.1.10: snmpTimeoutError for: /172.20.1.10(string,text)", "firstEventTime": "2014-06-03T10:22:08-05:00", "ipAddress": "172.20.1.10", "lastEvent": {"createTime": "2014-06-04T09:44:17.475-05:00", "description": "<p>SNMP data collection on interface 172.20.1.10\n      failed.</p>", "host": "blackberry", "logMessage": "SNMP data collection on interface 172.20.1.10 failed with 'Timeout retrieving SnmpCollectors for 172.20.1.10 for /172.20.1.10: SnmpCollectors for 172.20.1.10: snmpTimeoutError for: /172.20.1.10'.", "parms": "reason=Timeout retrieving SnmpCollectors for 172.20.1.10 for /172.20.1.10: SnmpCollectors for 172.20.1.10: snmpTimeoutError for: /172.20.1.10(string,text)", "source": "OpenNMS.Collectd", "time": "2014-06-04T09:44:17-05:00", "uei": "uei.opennms.org/nodes/dataCollectionFailed", "ipAddress": "172.20.1.10", "nodeId": "9", "nodeLabel": "cartman.internal.opennms.com", "serviceType": {"name": "SNMP", "_id": "3"}, "_display": "Y", "_log": "Y", "_id": "1382784", "_severity": "MINOR"}, "lastEventTime": "2014-06-04T09:44:17-05:00", "logMessage": "SNMP data collection on interface 172.20.1.10 failed with 'Timeout retrieving SnmpCollectors for 172.20.1.10 for /172.20.1.10: SnmpCollectors for 172.20.1.10: snmpTimeoutError for: /172.20.1.10'.", "nodeId": "9", "nodeLabel": "cartman.internal.opennms.com", "reductionKey": "uei.opennms.org/nodes/dataCollectionFailed::9", "serviceType": {"name": "SNMP", "_id": "3"}, "suppressedTime": "2014-06-03T10:22:08-05:00", "suppressedUntil": "2014-06-03T10:22:08-05:00", "uei": "uei.opennms.org/nodes/dataCollectionFailed", "x733ProbableCause": "0", "_type": "1", "_count": "4", "_id": "225202", "_severity": "MINOR"},
  {"description": "<p>All interfaces on node cartman.internal.opennms.com are\n      down.</p> <p>This event is generated when node\n      outage processing determines that all interfaces on the node\n      are down.</p> <p>New outage records have been\n      created and service level availability calculations will be\n      impacted until this outage is resolved.</p>", "parms": "nodelabel=cartman.internal.opennms.com(string,text)", "firstEventTime": "2014-06-03T10:22:09-05:00", "lastEvent": {"createTime": "2014-06-03T10:22:09.084-05:00", "description": "<p>All interfaces on node cartman.internal.opennms.com are\n      down.</p> <p>This event is generated when node\n      outage processing determines that all interfaces on the node\n      are down.</p> <p>New outage records have been\n      created and service level availability calculations will be\n      impacted until this outage is resolved.</p>", "host": "blackberry", "logMessage": "Node cartman.internal.opennms.com is down.", "parms": "nodelabel=cartman.internal.opennms.com(string,text)", "source": "OpenNMS.Poller.DefaultPollContext", "time": "2014-06-03T10:22:09-05:00", "uei": "uei.opennms.org/nodes/nodeDown", "nodeId": "9", "nodeLabel": "cartman.internal.opennms.com", "_display": "Y", "_log": "Y", "_id": "1382465", "_severity": "MAJOR"}, "lastEventTime": "2014-06-03T10:22:09-05:00", "logMessage": "Node cartman.internal.opennms.com is down.", "nodeId": "9", "nodeLabel": "cartman.internal.opennms.com", "reductionKey": "uei.opennms.org/nodes/nodeDown::9", "suppressedTime": "2014-06-03T10:22:09-05:00", "suppressedUntil": "2014-06-03T10:22:09-05:00", "uei": "uei.opennms.org/nodes/nodeDown", "x733ProbableCause": "0", "_type": "1", "_count": "1", "_id": "225210", "_severity": "MAJOR"}
], "_count": "2", "_totalCount": "2"}}